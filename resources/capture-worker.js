var H=(o,u,m)=>{if(!u.has(o))throw TypeError("Cannot "+m)};var y=(o,u,m)=>(H(o,u,"read from private field"),m?m.call(o):u.get(o)),C=(o,u,m)=>{if(u.has(o))throw TypeError("Cannot add the same private member more than once");u instanceof WeakSet?u.add(o):u.set(o,m)},z=(o,u,m,h)=>(H(o,u,"write to private field"),h?h.call(o,m):u.set(o,m),m);(function(){var b,p,k;"use strict";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o=Symbol("Comlink.proxy"),u=Symbol("Comlink.endpoint"),m=Symbol("Comlink.releaseProxy"),h=Symbol("Comlink.finalizer"),S=Symbol("Comlink.thrown"),L=e=>typeof e=="object"&&e!==null||typeof e=="function",V={canHandle:e=>L(e)&&e[o],serialize(e){const{port1:t,port2:r}=new MessageChannel;return M(e,t),[r,[r]]},deserialize(e){return e.start(),q(e)}},_={canHandle:e=>L(e)&&S in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},v=new Map([["proxy",V],["throw",_]]);function D(e,t){for(const r of e)if(t===r||r==="*"||r instanceof RegExp&&r.test(t))return!0;return!1}function M(e,t=globalThis,r=["*"]){t.addEventListener("message",function c(s){if(!s||!s.data)return;if(!D(r,s.origin)){console.warn(`Invalid origin '${s.origin}' for comlink proxy`);return}const{id:l,type:a,path:n}=Object.assign({path:[]},s.data),i=(s.data.argumentList||[]).map(A);let f;try{const d=n.slice(0,-1).reduce((g,P)=>g[P],e),w=n.reduce((g,P)=>g[P],e);switch(a){case"GET":f=w;break;case"SET":d[n.slice(-1)[0]]=A(s.data.value),f=!0;break;case"APPLY":f=w.apply(d,i);break;case"CONSTRUCT":{const g=new w(...i);f=W(g)}break;case"ENDPOINT":{const{port1:g,port2:P}=new MessageChannel;M(e,P),f=K(g,[g])}break;case"RELEASE":f=void 0;break;default:return}}catch(d){f={value:d,[S]:0}}Promise.resolve(f).catch(d=>({value:d,[S]:0})).then(d=>{const[w,g]=x(d);t.postMessage(Object.assign(Object.assign({},w),{id:l}),g),a==="RELEASE"&&(t.removeEventListener("message",c),N(t),h in e&&typeof e[h]=="function"&&e[h]())}).catch(d=>{const[w,g]=x({value:new TypeError("Unserializable return value"),[S]:0});t.postMessage(Object.assign(Object.assign({},w),{id:l}),g)})}),t.start&&t.start()}function G(e){return e.constructor.name==="MessagePort"}function N(e){G(e)&&e.close()}function q(e,t){return T(e,[],t)}function R(e){if(e)throw new Error("Proxy has been released and is not useable")}function j(e){return E(e,{type:"RELEASE"}).then(()=>{N(e)})}const O=new WeakMap,U="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(O.get(e)||0)-1;O.set(e,t),t===0&&j(e)});function Y(e,t){const r=(O.get(t)||0)+1;O.set(t,r),U&&U.register(e,t,e)}function X(e){U&&U.unregister(e)}function T(e,t=[],r=function(){}){let c=!1;const s=new Proxy(r,{get(l,a){if(R(c),a===m)return()=>{X(s),j(e),c=!0};if(a==="then"){if(t.length===0)return{then:()=>s};const n=E(e,{type:"GET",path:t.map(i=>i.toString())}).then(A);return n.then.bind(n)}return T(e,[...t,a])},set(l,a,n){R(c);const[i,f]=x(n);return E(e,{type:"SET",path:[...t,a].map(d=>d.toString()),value:i},f).then(A)},apply(l,a,n){R(c);const i=t[t.length-1];if(i===u)return E(e,{type:"ENDPOINT"}).then(A);if(i==="bind")return T(e,t.slice(0,-1));const[f,d]=$(n);return E(e,{type:"APPLY",path:t.map(w=>w.toString()),argumentList:f},d).then(A)},construct(l,a){R(c);const[n,i]=$(a);return E(e,{type:"CONSTRUCT",path:t.map(f=>f.toString()),argumentList:n},i).then(A)}});return Y(s,e),s}function J(e){return Array.prototype.concat.apply([],e)}function $(e){const t=e.map(x);return[t.map(r=>r[0]),J(t.map(r=>r[1]))]}const B=new WeakMap;function K(e,t){return B.set(e,t),e}function W(e){return Object.assign(e,{[o]:!0})}function x(e){for(const[t,r]of v)if(r.canHandle(e)){const[c,s]=r.serialize(e);return[{type:"HANDLER",name:t,value:c},s]}return[{type:"RAW",value:e},B.get(e)||[]]}function A(e){switch(e.type){case"HANDLER":return v.get(e.name).deserialize(e.value);case"RAW":return e.value}}function E(e,t,r){return new Promise(c=>{const s=Q();e.addEventListener("message",function l(a){!a.data||!a.data.id||a.data.id!==s||(e.removeEventListener("message",l),c(a.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:s},t),r)})}function Q(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const I="application/javascript",F=(e,t={})=>{const r={skipSameOrigin:!0,useBlob:!0,...t};return r.skipSameOrigin&&new URL(e).origin===self.location.origin?Promise.resolve(e):new Promise((c,s)=>void fetch(e).then(l=>l.text()).then(l=>{new URL(e).href.split("/").pop();let n="";if(r.useBlob){const i=new Blob([l],{type:I});n=URL.createObjectURL(i)}else n=`data:${I},`+encodeURIComponent(l);c(n)}).catch(s))},Z=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),ee=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1])),te=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,7,1,5,0,208,112,26,11])),re=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,12,1,10,0,67,0,0,0,0,252,0,26,11])),ne=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,65,0,192,26,11])),se=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),ae=()=>(async e=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));function ie(){return/iOS|iPhone|iPad|iPod/i.test(navigator.userAgent)}async function oe(){if(!await ae())return!1;if(!("importScripts"in self))throw Error("Not implemented");return ie()?!1:"Worker"in self}async function ce(){const e=[ee(),te(),Z(),re(),ne()];if(!(await Promise.all(e)).every(Boolean))throw new Error("Browser doesn't meet minimum requirements!");return await se()?await oe()?"advanced-threads":"advanced":"basic"}class le{constructor(){C(this,b,void 0);C(this,p,void 0);C(this,k,void 0)}async loadWasm(){const t=await ce();console.log(`Requesting ${t} Wasm build`);const r=`${y(this,k)}/${t}`,c=`${r}/capture-wasm.js`,s=`${r}/capture-wasm.worker.js`;let l;const a=await F(c);t==="advanced-threads"&&(l=await F(s));try{importScripts(a)}catch(n){console.error("loading scripts failed",n)}return z(this,b,await self.createModule({locateFile:n=>{let i;return n.includes(".worker.js")?i=l:i=`${y(this,k)}/${t}/${n}`,i},mainScriptUrlOrBlob:a.toString(),setStatus:n=>{},noExitRuntime:!0})),y(this,b)[h]=()=>{},W(y(this,b))}createAnalyzer(){if(!y(this,b)){console.error("Wasm is not initialized yet. Call loadWasm() first.");return}return z(this,p,new(y(this,b)).Analyzer),y(this,p)[h]=()=>{console.log("Comlink.finalizer called on Analyzer instance. Deleting instance."),y(this,p)&&y(this,p).delete()},W(y(this,p))}analyze(t){if(!y(this,p))throw new Error("Analyzer is not initialized yet. Call createAnalyzer() first.");const r=y(this,p).analyze(t);return self.postMessage({},[t.data.buffer]),t=null,r}terminate(){self.close()}setResourceUrl(t){z(this,k,t)}[h](){console.log("Comlink.finalizer called on proxyWorker")}}b=new WeakMap,p=new WeakMap,k=new WeakMap;const ue=new le;M(ue)})();
